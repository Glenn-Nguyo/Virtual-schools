{"ast":null,"code":"var _jsxFileName = \"/home/king-g/Development/code/phase-5/main-project/Virtual-schools/src/Owner's Page/src/Components/Createstudents.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateStudent = () => {\n  _s();\n  const [student, setStudent] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    school_id: \"\",\n    course_id: \"\",\n    owner_id: \"\"\n  });\n  const [errors, setErrors] = useState([]);\n  const navigate = useHistory();\n  function handleChange(e) {\n    setStudent({\n      ...student,\n      [e.target.name]: e.target.value\n    });\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(\"https://virtualschools.herokuapp.com/students\", {\n      method: \"POST\",\n      // credentials: 'include',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(student)\n    }).then(r => {\n      if (r.ok) {\n        navigate.replace(\"/schools\");\n      } else {\n        r.json().then(err => setErrors(err.errors));\n      }\n    });\n  }\n  const errorMessage = errors.map((error, index) => /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"error\",\n      children: error\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containCreateForm\",\n    children: [errors.length > 0 ? errorMessage : null, /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"addForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        defaultValue: student.name,\n        placeholder: \"Enter Student Name\",\n        name: \"name\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        defaultValue: student.email,\n        placeholder: \"Enter Student Email\",\n        name: \"email\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        defaultValue: student.password,\n        placeholder: \"Enter Student Password\",\n        name: \"password\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        defaultValue: student.school_id,\n        placeholder: \"Enter Student School_id\",\n        name: \"school_id\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        defaultValue: student.course_id,\n        placeholder: \"Enter Student Course_id\",\n        name: \"course_id\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        defaultValue: student.owner_id,\n        placeholder: \"Enter Student Owner_id\",\n        name: \"owner_id\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateStudent, \"herxYgZtFAPCcwgrdpLzN1sj/R0=\", false, function () {\n  return [useHistory];\n});\n_c = CreateStudent;\nexport default CreateStudent;\nvar _c;\n$RefreshReg$(_c, \"CreateStudent\");","map":{"version":3,"names":["React","useState","useHistory","CreateStudent","student","setStudent","name","email","password","school_id","course_id","owner_id","errors","setErrors","navigate","handleChange","e","target","value","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","ok","replace","json","err","errorMessage","map","error","index","length"],"sources":["/home/king-g/Development/code/phase-5/main-project/Virtual-schools/src/Owner's Page/src/Components/Createstudents.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom';\n\nconst CreateStudent = () => {\n    const [student, setStudent] = useState({\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      school_id: \"\",\n      course_id: \"\",\n      owner_id: \"\",\n    });\n\n    const[errors, setErrors] = useState([])\n    const navigate = useHistory()\n    function handleChange(e) {        \n        setStudent({ ...student, [e.target.name]: e.target.value });        \n    }\n\n    function handleSubmit(e) {\n        e.preventDefault()\n        fetch(\"https://virtualschools.herokuapp.com/students\", {\n          method: \"POST\",\n          // credentials: 'include',\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(student),\n        }).then((r) => {\n          if (r.ok) {\n            navigate.replace(\"/schools\");\n          } else {\n            r.json()\n            .then((err) => setErrors(err.errors));\n          }\n        })\n    }\n\n    const errorMessage = (errors.map((error, index)=>(\n      <ul>\n        <li className='error' key={index}>{error}</li>\n      </ul>\n    )))\n  return (\n    <div className='containCreateForm'>\n      {errors.length > 0?  errorMessage : null}\n\n      <form onSubmit={handleSubmit} className=\"addForm\" >\n\t\t\t<input type=\"text\" \n\t\t\t\tdefaultValue= {student.name}\n        placeholder= \"Enter Student Name\"\n\t\t\t\tname= \"name\"\n\t\t\t\tonChange= {handleChange}\n\t\t\t\t />\n\n        <input type=\"text\" \n\t\t\t\tdefaultValue={student.email}\n        placeholder=\"Enter Student Email\"\n\t\t\t\tname=\"email\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\t />\n         <input type=\"password\" \n\t\t\t\tdefaultValue={student.password}\n        placeholder=\"Enter Student Password\"\n\t\t\t\tname=\"password\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\t />\n         <input type=\"text\" \n\t\t\t\tdefaultValue={student.school_id}\n        placeholder=\"Enter Student School_id\"\n\t\t\t\tname=\"school_id\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\t />\n         <input type=\"text\" \n\t\t\t\tdefaultValue={student.course_id}\n        placeholder=\"Enter Student Course_id\"\n\t\t\t\tname=\"course_id\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\t />\n         <input type=\"text\" \n\t\t\t\tdefaultValue={student.owner_id}\n        placeholder=\"Enter Student Owner_id\"\n\t\t\t\tname=\"owner_id\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\t />\n                        \n\t\t\t<br />\n\t\t\t\n\t\t\t<br />\n\t\t\t<input type=\"submit\"  value=\"Submit\"/>\n\t\t</form>\n    </div>\n  );\n}\n\nexport default CreateStudent"],"mappings":"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"},"metadata":{},"sourceType":"module"}